
@{
    ViewBag.Title = "collections";
    ViewBag.ActiveItem = "account";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet">
<header class="header navbar navbar-expand-lg bg-light border-bottom border-light shadow-sm fixed-top">
    <div class="container px-3">
        <a href="/" class="navbar-brand pe-3">
            <img src="~/assets/img/logoo.jpg" width="47" alt="Silicon">
            ¡Alerta De Spoiler!
        </a>
        <div id="navbarNav" class="offcanvas offcanvas-end">
            <div class="offcanvas-header border-bottom">
                <h5 class="offcanvas-title">Menu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                @Html.Partial("~/Views/Shared/header.cshtml")
            </div>
        </div>
        <div class="form-check form-switch mode-switch pe-lg-1 ms-auto me-4" data-bs-toggle="mode">
            <input type="checkbox" class="form-check-input" id="theme-mode">
            <label class="form-check-label d-none d-sm-block" for="theme-mode">Light</label>
            <label class="form-check-label d-none d-sm-block" for="theme-mode">Dark</label>
        </div>
        <button type="button" class="navbar-toggler" data-bs-toggle="offcanvas" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</header>

<section class="container pt-5">
    <div class="row">
        <!-- Sidebar (User info + Account menu) -->
        <aside class="col-lg-3 col-md-4 border-end pb-5 mt-n5">
            <div class="position-sticky top-0">
                <div class="text-center pt-5">
                    <div class="d-table position-relative mx-auto mt-2 mt-lg-4 pt-5 mb-3">
                        <img src="~/assets/img/avatar/18.jpg" class="d-block rounded-circle" width="120" alt="John Doe">
                        <button type="button" class="btn btn-icon btn-light bg-white btn-sm border rounded-circle shadow-sm position-absolute bottom-0 end-0 mt-4" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Change picture" aria-label="Change picture">
                            <i class="bx bx-refresh"></i>
                        </button>
                    </div>
                    <h2 class="h5 mb-1">prueba</h2>
                    <p class="mb-3 pb-3">email.com</p>
                    <button type="button" class="btn btn-secondary w-100 d-md-none mt-n2 mb-3" data-bs-toggle="collapse" data-bs-target="#account-menu">
                        <i class="bx bxs-user-detail fs-xl me-2"></i>
                        Menú
                        <i class="bx bx-chevron-down fs-lg ms-1"></i>
                    </button>
                    <div id="account-menu" class="list-group list-group-flush collapse d-md-block">
                        <a href="/account/details" class="list-group-item list-group-item-action d-flex align-items-center">
                            <i class="bx bx-cog fs-xl opacity-60 me-2"></i>
                            Configuración
                        </a>
                        <a href="/account/security" class="list-group-item list-group-item-action d-flex align-items-center">
                            <i class="bx bx-lock-alt fs-xl opacity-60 me-2"></i>
                            Seguridad
                        </a>
                        <a href="/account/collections" class="list-group-item list-group-item-action d-flex align-items-center active">
                            <i class="bx bx-collection fs-xl opacity-60 me-2"></i>
                            Mis Películas
                        </a>
                        <a href="/account/signin" class="list-group-item list-group-item-action d-flex align-items-center">
                            <i class="bx bx-log-out fs-xl opacity-60 me-2"></i>
                            Cerrar Sesión
                        </a>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Account collections -->
    <div class="col-md-8 offset-lg-1 pb-5 mb-lg-2 pt-md-5 mt-n3 mt-md-0">
        <div class="ps-md-3 ps-lg-0 mt-md-2 pt-md-4 pb-md-2">
            <div class="d-sm-flex align-items-center justify-content-between pt-xl-1 mb-3 pb-3">
                <h1 class="h2 mb-sm-0">Mis Películas</h1>
                <select class="form-select" style="max-width: 15rem;">
                    <option value="Predeterminado">Predeterminado</option>
                    <option value="Género">Género</option>
                    <option value="Título">Título</option>
                    <option value="Visto Recientemente">Visto Recientemente</option>
                </select>
            </div>

            <div class="card border-0 shadow-sm overflow-hidden mb-4">
                <div class="row g-0">
                    <a href="#" class="col-sm-4 bg-repeat-0 bg-position-center bg-size-cover" style="background-image: url('/assets/img/account/barbie.jpg'); min-height: 13rem;" aria-label="Cover image"></a>
                    <div class="col-sm-8">
                        <div class="card-body">
                            <div class="fs-sm text-muted mb-1">Nov 30, 2023</div>
                            <h2 class="h4 pb-1 mb-2">
                                <a href="#">Barbie Escuela de Princesas</a>
                            </h2>
                            <p class="mb-4 mb-lg-5">Director de la película</p>
                            <div class="d-flex">


                                <!-- Estrellas -->
                                <div class="rating">
                                    <input type="radio" id="star5" name="rating" value="5" class="star" />
                                    <label for="star5" title="5 stars">
                                        <i class="bx bxs-star"></i>
                                    </label>

                                    <input type="radio" id="star4" name="rating" value="4" class="star" />
                                    <label for="star4" title="4 stars">
                                        <i class="bx bxs-star"></i>
                                    </label>

                                    <input type="radio" id="star3" name="rating" value="3" class="star" />
                                    <label for="star3" title="3 stars">
                                        <i class="bx bxs-star"></i>
                                    </label>

                                    <input type="radio" id="star2" name="rating" value="2" class="star" />
                                    <label for="star2" title="2 stars">
                                        <i class="bx bxs-star"></i>
                                    </label>

                                    <input type="radio" id="star1" name="rating" value="1" class="star" />
                                    <label for="star1" title="1 star">
                                        <i class="bx bxs-star"></i>
                                    </label>
                                </div>

                                <style>

                                    .rating input[type="radio"] {
                                        display: none;
                                    }

                                    .rating label {
                                        display: inline-block;
                                        cursor: pointer;
                                    }

                                        .rating label i {
                                            font-size: 2rem;
                                            color: #808080;
                                        }

                                    .bx-star-filled {
                                        color: hotpink;
                                    }
                                </style>

                                @section Scripts {
                                    <script>
                                        document.addEventListener("DOMContentLoaded", function () {

                                            const stars = document.querySelectorAll('.star');

                                            stars.forEach(star => {
                                                star.addEventListener('click', function () {
                                                    const rating = this.value;
                                                    fillStars(rating);
                                                });
                                            });

                                            function fillStars(rating) {

                                                const allStars = document.querySelectorAll('.rating label i');
                                                allStars.forEach(star => {
                                                    star.classList.remove('bx-star-filled');
                                                });


                                                for (let i = 0; i < rating; i++) {
                                                    allStars[i].classList.add('bx-star-filled');
                                                }
                                            }
                                        });
                                    </script>
                                }


                                <div class="d-flex">

                                    <button type="button" class="btn btn-outline-danger px-3 px-lg-4">
                                        <i class="bx bx-trash-alt fs-xl me-xl-2"></i>
                                        <span class="d-none d-xl-inline">Eliminar película</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


